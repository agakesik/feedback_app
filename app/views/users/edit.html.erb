<% provide(:title, "Edytuj #{@user.name}") %>
<% provide(:position, "Edytuj profil") %>

<div class="single-column-content">
  <div class="form">
    <%= form_with(model: @user, local: true) do |f| %>
      <%= render 'shared/error_messages', object: f.object %>

      <% if current_user.coach? || current_user.admin? %>
        <%= f.label :name, "Imię", class: "label" %>
        <%= f.text_field :name, class: 'form-control' %>
      <% end %>

      <%= f.label :email, "Email", class: "label" %>
      <%= f.email_field :email, class: 'form-control' %>

      <% unless @user.activated? %>
      <%= f.label :activated, "Aktywować?", class: "label" %>
      <%= f.check_box :activated, class: "" %>
      <% end %>

      <% if current_user == @user %>
        <%= f.label :password, "Hasło", class: "label" %>
        <%= f.password_field :password, class: 'form-control' %>

        <%= f.label :password_confirmation, "Potwierdź hasło", class: "label" %>
        <%= f.password_field :password_confirmation, class: 'form-control' %>
      <% end %>

      <% if current_user.coach? %>
        <p class="label"> Status zawodnika: </p>
        <div class="rating-choice-container">
          <% SkaterStatus.all.each do |status| %>
            <%= f.radio_button :skater_status_id, status.id,
                               class: "hidden choice" %>
            <%= f.label :skater_status_id, status.name, value: status.id,
                        class: "choice button",
                        style: "background-color: #{status.color}" %>
          <% end %>
        </div>
      <% end %>

      <%= f.submit "Edytuj", class: "button submit" %>
    <% end %>
  </div>
</div>
